# Введение

Конечная бизнес задача: нарисовать по итогу карту DS скиллов. Цель карты помочь начинающим в сфере DS разобраться в ландшафте специальностей, что к чему и как с чем связано. На карту нанесём все курсы КК, что из навыков пре-реквизит и что на выходе.

В рамках этого проекта построить мини-рекомендательную систему. Например, телеграм бот, который говорит тебе какие-то ключевые навыки и ты себя оцениваешь по ним от 1 до 10, а потом он тебя профилирует для профориентации. Можно загрузить список своих скилов.

# Сбор требований к системе

## Функциональные требования

- Разбор вакансий с сайта, напрмер hh
- Возможность просмотра предобработанной интрективной карты близости скилов, вакансий и их связей. Можно рассмотреть фильтрацию или выделение кластеров для уменьшения выводимой информации
- Возможность нанесения скилов обучающих курсов до и после их прохождения Отображение изменений в карте вакансий и изменений зарплаты
- Возможность отправить информацию о скилах и получить профиль профориентации

## Нефункциональные требования
- Изменения вакансий могут обрабатываться в фоне и/или с задержкой
- Парсинг или предобработка не должны нарушить функционирование сервиса
- Интерактивная карта должна бчть отзывчивой для пользователя
- Время формирования рекомендации может составлять несколько секунд, данные по скилам становятся доступными только в момент создания запроса без возможности подготовки рекомендаций заранее
- В рамках проекта высокая нагрузка не рассматривается. Но следует создавать структуру, подходящую для маштабирования.
- Можем собирать аналитическую информацию о запросах пользователей
- Решение должно быть развернуто на облачном сервере и доступно в сети интернет


# Высокоуровневый дизайн
- Используем сайт hh.ru в качестве источника вакансий
- Парсим вакансии с сайта и сохраняем их в хранилище
- Производим предобработку (эмбеддинги, кластеризация, дополнительные фитчи) в фоне или по расписанию. 
- Парсинг и предобработку запускаем по расписанию через AirFlow
- На основе предобраотанных данных строим два сервиса:
	- отображения карты через web-ui, используется дополнительная база обучающих курсов, которые могут быть добавлены в отображение
	- рекомендательную систему с ui-интерфейсом через tg-бот
- Дополнительный сервис аналитики/логирования

![](https://github.com/uberkinder/DS-landscape/raw/main/design/img/HLD_schema.png)

## Выбор баз данных

Нам нужно хранить

- Информацию по вакансиям
	- Если в hh около 10 мил. вакансий, допустим каждая вакансия будет занимать 1Кб, тогда потребуется 10Gb
	- Будем использовать ClickHouse: при расширении проекта анатические возможности ClickHouse могут оказаться полезными, удобный функционал массивов для скилов
- Хранилище признаков: сформированные эмбендинги, параметры кластеров
	- Данных сравнительно мало, чтение происходит чаше записи
	- Будем использвоать Postgres: размер небольшой, особенных требований нет
- Аналитическую инфорацию и информацию мониторинга (при необходимости)
	- Будем использвоать Postgres


## Масштабирование и надежность

Выбранная структура при необходимости позволяет:

- масштабировать отдельные сервисы с использованием балансировщика
- репикацию баз данных вакансий и фитч
- хранить собственный кеш в сервисе поистроения карт

# ML System Design

## Постановка ML задачи

<ЗАПОЛНИТЬ> Разбить на конкретные задачи. Карта вакансий, скилов, вакансия-скил, рекомендация, может аналитика по курсам


## Получение данные
<ЗАПОЛНИТЬ> Парсим. Что и откуда

## Таргет, метрики
<ЗАПОЛНИТЬ> Безнес и прокси-метрики, Offline, Online

## Обработка признаков
<ЗАПОЛНИТЬ> Обработка пропусков, Эмбеддинги, Кластеризация

## Процесс обучения
<ЗАПОЛНИТЬ> Офлайн, Дообучение, Подмена, 

## Базовое решение
<ЗАПОЛНИТЬ> 

## Моделирование
<ЗАПОЛНИТЬ> 

## Мониторинг и оценка качества
<ЗАПОЛНИТЬ> запросы, время обрабоки, метрики качества, АБ-тесты




