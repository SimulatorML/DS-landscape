
# Введение

В современном мире учеба не заканчивается в институте или после получения докторской степени, ИТ-мир меняется постоянно и наше будущее в постоянном обучении, всю жизнь. Мы стараемся не только углубиться в своей узкой специальности, так и двигаться вширь, осваивая новые области и новые специальности. Важно двигаться в правильном направлении, чтобы полученные навыки сложились пазлом в полноценную специальность, особенно это важно новичкам в профессии. Например, человек хочет заниматься машинным обучением, изучает математику, алгоритмы и применяет новые навыки на языке C#. В таком случае может быть потеряно много времени, пока не станет очевидным, что не хватает компетенции в языке Python. Другой пример, студент прошел курс Data Science и стоит перед выбором более узкой специализации. Если он выбирает обучающий курс, то нужно правильно оценить как курс приблизит к цели, отразится на движение по специальностям или карьере. И наоборот, для создания полезного и целостного курса, авторам следует иметь хорошее понимание какие навыки должны быть в нем раскрыты. 

Ресурс, содержащий актуальную информацию о взаимосвязей профессий и навыков, помог бы как в обучении и профориентации, так и при составлении обучающих курсов. Как результат, более комплексное обучение и более близкое к реальным потребностям. При поиске работы соискатель лучше бы оценивал какие профессии лучше подходят под его навыки и соответственно находил бы быстрее подходящую работу.

Мы предлагаем решение, которое представляет пользователям такую информацию. Для этого собираются вакансии с популярных сайтов и проводится обработка какие навыки в каких профессиях наиболее востребованы. Конечный результат доступен пользователю через интерактивную визуализацию на веб странице или посредством телеграмм чата. Для начальной профориентации есть возможность указать свои навыки и получить рекомендации подходящих специальностей.

# Требования к системе

Создаваемое приложение будет иметь слеующие функции:
- автоматический сбор актуальной информации о вакансиях,
- визуализация близости навыков, специальностей и их взаимосвязей в виде интрективного объекта, который в дальнейшем будем назвывать картой навыков,
- визуализация на карте что должен принести тот или иной обучающий курс,
- возможности дополнительной аналитики могут быть расмотрены в дальнейшем, такие как подсветка групп близких навыков, визаализация вострбованности или влияния на среднюю заработную плату
- возможность отправить информацию о навыках и получить рекомендации специальностей

Отметим, что не требуется мнговенная реакция на каждую новую опубликованную вакансию, поэтому обработка новых вакансий за один день будет достаточной. В тоже время, полученные данные должны быть обраотаны таким образом, чтобы пользователь системы не имел задержки в своих запросах. Обработка данных не должна вызывать значимые задержки в обработке запросов.

Решение будет развернуто на облачном сервере и доступно в сети интернет. В рамках проекта высокая нагрузка не рассматривается, но создаваемая структура допускает маштабирование.


# Высокоуровневый дизайн

Реализация решения состоит из нескольких компонентов, рассмотрим их на схеме

![](https://github.com/uberkinder/DS-landscape/raw/main/design/img/HLD_schema_2.png)

Используем hh.ru и, возможно, другие сайты в качестве источника вакансий. Собираем новые вакансии с некоторой периодичностью, по умолчанию каждый день. После этапа сбора новых вакансий производим обработку актуальных вакансий и формируем признаки навыков, специальностей и навыков-специальностей. 

За формирование карты и рекомендаций отвечают back-end сервисы `Visual Map Service` и `RecSys Service`. Пользователь может обращаться к системе через web-приложение и через чат в Телеграмм

Отдельные сервисы и СУБД будут запускаться в отдельных docker контейнерах. Будем хранить только актуальные вакансии за некоторый период времени, поэтому для базы данных будет достаточно postgresql.

Выбранная структура имеет возможности для масштабирования и уменьшении времени отклика, а именно позволяет масштабировать отдельные сервисы с использованием балансировщиков, репикацию базы данных вакансий и признаков, создание кеша в сервисе построения карт



# ML Дизайн


## Сбор данных
Как было написано выше, мы будем собирать данные с сайтов вакансий и обновлять их примерно каждый день, чтобы данные были актуальные

## Процесс обучения, таргет, схема валидации, метрики

Анализ похожести навыков и специальносей будем производить с использованием эмбеддингов. Для их построения и проверки качества будем проводить следующие действия:

1. Берем данные за некоторое время, например за последние две недели или месяц, строим из них матрицу [Специальность] X [Навык], на пересечении будет храниться сумма по всем вакансиям (возможно взвешенная по относительному расположению навыка в списке вакансии)
- Нормируем матрицу одним из способов, потому что каких-то специальностей или навыков может быть значительно больше других
- По этой матрице, зафиксировав специальность, можно получить столбец навыков этой специальности. Отсортировав его по убыванию получим отранжированный список навыков, наиболее подходящих к специальности. Если зафиксировать навык, то можно аналогично получить отранжированный список специальностей для этого навыка.
- Строим алгоритм, который сформурует эмбеддинги, например ALS
- Скалярное перемножение i-ого скила на j-тую специальность = значимость этой связи.  Используя это свойство, на основе эмбеддингов получаем оценку релевантных списков навыков для специальностей и специальностей для навыков. Считаем метрику nDCG@K по отношению к таргету. Таким образом, мы получим измеряемое значение, которое будем показывать сколько мы потеряем при переходе от полной матрицы к сжатым эмбеддингам. Метрика позволит сравнивать алгоритмы и правильно выбрать размерность эмбеддинга.

Чтобы на карте отображать не все навыки или специальности, а только близкие группы, или окрашивать близкие объекты одним цветом, будем проводить кластеризацию.

Будем стремиться сделать рекомендательную систему достаточно простой. Уже естьесть построенные эмбеддинги для навыков и эмбеддинги для специальностей (через ALS). Скалярное перемножение i-ого навыка на j-тую специальность = значимость этой связи. Обозначим:

- М - количество специальностей, 
- N - количество навыков,
- Q - количество навыков пользователя (Q <= N).

Для каждого навыка из запроса пользователя проходим по всем специальностям и вычисляем значимость, получется матрица размерности M x Q. Суммируем значимость специальностей по всем скилам из запроса, дополнительно используем вес скила пользователя. Получаем вектор размерности M, который содержит релевантность специальности для указанного набора навыков. Сортируем этот вектор и выбираем K наиболее релевентных специальностей. Это и будет рекомендация.

## Обработка признаков

- Сформированные эмбеддинги это основные признаки, которые используются в карте и рекомендации
- В нашем решении дополнительные агрегированные данные вакансий скорее всего будут использоваться только в кластеризации. Среди них количество, регионы, заработная плата, регионы и т.д. Так же они могут быть выведены на карту как дополнительная информация. 
- На основе расстояния Левенштейна можно исправить опечатки в названиях специальностей и навыков




